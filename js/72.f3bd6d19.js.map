{"version":3,"file":"js/72.f3bd6d19.js","mappings":"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","sources":["webpack://cherish/./src/components/Pagination.vue","webpack://cherish/./src/components/Pagination.vue?33dc","webpack://cherish/./src/views/UserAllProducts.vue","webpack://cherish/./src/views/UserAllProducts.vue?da03"],"sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-end\">\n      <li class=\"page-item pagination-prev\" :class=\"{ 'disabled': !pages.has_pre }\">\n        <a class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"updatePage(pages.current_page - 1)\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item pageHover\" v-for=\"page in pages.total_pages\" :key=\"page\"\n      :class=\"{ 'active': page === pages.current_page }\">\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\n          {{ page }}\n        </a>\n      </li>\n      <li class=\"page-item pagination-next\" :class=\"{ 'disabled': !pages.has_next }\">\n        <a class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"updatePage(pages.current_page + 1)\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: ['pages'],\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=79a00962\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\"/>\n  <div class=\"container mb-5 mb-lg-6\">\n    <div class=\"row row-cols-1 row-cols-lg-2 mt-6 mt-lg-7\">\n      <div class=\"col-lg-3\">\n        <ul class=\"mb-5 pd-menu\">\n          <li class=\"list-unstyled my-3 position-relative\">\n            <a href=\"#\"\n              class=\"link-primary text-decoration-none\"\n              @click.prevent=\"categoryItem = '', updateCategory('')\">\n              <span class=\"list-hover stretched-link\"\n                :class=\"{ active: categoryItem === ''}\"\n              >— </span>ALL\n            </a>\n          </li>\n          <li class=\"list-unstyled my-3 position-relative\">\n            <a href=\"#\"\n              class=\"link-primary text-decoration-none\"\n              @click.prevent=\"categoryItem = '戒指', updateCategory('戒指')\">\n              <span class=\"list-hover stretched-link\"\n                :class=\"{ active: categoryItem === '戒指'}\"\n              >— </span>RING\n            </a>\n          </li>\n          <li class=\"list-unstyled my-3 position-relative\">\n            <a href=\"#\"\n              class=\"link-primary text-decoration-none\"\n              @click.prevent=\"categoryItem = '耳環', updateCategory('耳環')\">\n              <span class=\"list-hover stretched-link\"\n                :class=\"{ active: categoryItem === '耳環'}\"\n              >— </span>EARRING\n            </a>\n          </li>\n          <li class=\"list-unstyled my-3 position-relative\">\n            <a href=\"#\"\n              class=\"link-primary text-decoration-none\"\n              @click.prevent=\"categoryItem = '手鍊', updateCategory('手鍊')\">\n              <span class=\"list-hover stretched-link\"\n                :class=\"{ active: categoryItem === '手鍊'}\"\n              >— </span>BRACELET\n            </a>\n          </li>\n          <li class=\"list-unstyled my-3 position-relative\">\n            <a href=\"#\"\n              class=\"link-primary text-decoration-none\"\n              @click.prevent=\"categoryItem = '項鍊', updateCategory('項鍊')\">\n              <span class=\"list-hover stretched-link\"\n                :class=\"{ active: categoryItem === '項鍊'}\"\n              >— </span>NECKLACE\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-lg-9\">\n        <div class=\"row row-cols-2 row-cols-lg-5 mt-lg-3\">\n          <div class=\"col px-2 mb-3\"\n            v-for=\"item in productsFilter\"\n            :key=\"item.id\">\n            <div class=\"card border-0 h-100 cardHover\"\n              @click=\"getProduct(item.id)\"\n              @keydown=\"getProduct(item.id)\">\n              <div class=\"imageHover\">\n                <img :src=\"item.imageUrl\" class=\"card-img-top img-fluid\" :alt=\"item.title\">\n              </div>\n              <div\n                class=\"card-body\n                  text-primary\n                  bg-warning\n                  px-0\n                  d-flex\n                  flex-column\n                  justify-content-between\"\n              >\n                <p class=\"ls\">{{ item.title }}</p>\n                <div class=\"d-flex\">\n                  <p class=\"text-danger border border-danger px-1 mb-1 ls\"\n                    v-if=\"item.price !== item.origin_price\"\n                    style=\"font-size: 10px;\">\n                    SALE\n                  </p>\n                </div>\n                <div class=\"d-flex align-items-end\">\n                  <div v-if=\"item.price === item.origin_price\">\n                    NT$ {{ $filters.currency(item.origin_price) }}\n                  </div>\n                  <div class=\"text-danger\"\n                    v-if=\"item.price !== item.origin_price\">\n                    NT$ {{ $filters.currency(item.price) }}\n                  </div>\n                  <del class=\"small text-muted ms-2\"\n                    v-if=\"item.price !== item.origin_price\">\n                    NT$ {{ $filters.currency(item.origin_price) }}\n                  </del>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <Pagination :pages=\"pagination\" @emitPages=\"getAllProducts\"/>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      categoryItem: '', // 商品類型\n      pagination: '', // 分頁資訊\n      isLoading: false,\n    };\n  },\n  components: {\n    Pagination,\n  },\n  methods: {\n    getAllProducts(page = 1) { // 取得商品列表\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (!res.data.success) {\n            this.isLoading = false;\n            return;\n          }\n          this.products = res.data.products;\n          const { categoryItem } = this.$route.params;\n          if (categoryItem) {\n            this.categoryItem = categoryItem;\n          }\n          if (this.categoryItem !== '') {\n            this.pagination = {};\n          } else {\n            this.setPagination(page);\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n    setPagination(page = 1) { // 頁碼\n      const perPage = 10;\n      this.pagination = {\n        total_pages: Math.ceil(this.products.length / perPage),\n        current_page: page,\n        has_pre: page !== 1,\n        has_next: false,\n        category: null,\n      };\n      if (this.pagination.current_page >= this.pagination.total_pages) {\n        this.pagination.current_page = this.pagination.total_pages;\n        this.pagination.has_next = false;\n      } else {\n        this.pagination.has_next = true;\n      }\n      const minPage = (this.pagination.current_page * perPage) - perPage;\n      const maxPage = (this.pagination.current_page * perPage);\n      this.products = this.products.slice(minPage, maxPage);\n    },\n    updateCategory(category) { // 更改路由\n      this.$router.push({\n        name: 'allProducts',\n        params: {\n          categoryItem: category,\n        },\n      });\n    },\n    getProduct(id) { // 進入商品單一頁面\n      this.$router.push(`/product/${id}`);\n    },\n  },\n  watch: {\n    categoryItem(newValue, preValue) {\n      if (newValue === '' || preValue === '') {\n        this.getAllProducts();\n      }\n    },\n  },\n  computed: {\n    productsFilter() {\n      return this.products.filter((product) => product.category.match(this.categoryItem));\n    },\n  },\n  created() {\n    this.getAllProducts();\n  },\n};\n</script>\n","import { render } from \"./UserAllProducts.vue?vue&type=template&id=bcf8315e\"\nimport script from \"./UserAllProducts.vue?vue&type=script&lang=js\"\nexport * from \"./UserAllProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_3","_hoisted_6","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$props","pages","has_pre","href","onClick","_cache","_withModifiers","$event","$options","updatePage","current_page","_Fragment","_renderList","total_pages","page","key","_hoisted_5","has_next","props","methods","this","$emit","__exports__","render","style","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_4","categoryItem","updateCategory","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","productsFilter","item","id","getProduct","onKeydown","_hoisted_13","src","imageUrl","alt","title","_hoisted_15","_hoisted_16","_toDisplayString","_hoisted_17","price","origin_price","_hoisted_18","_hoisted_19","_hoisted_20","_ctx","$filters","currency","_hoisted_21","_hoisted_22","_component_Pagination","pagination","onEmitPages","getAllProducts","data","products","components","Pagination","api","$http","get","then","res","success","$route","params","setPagination","catch","err","$httpMessageState","perPage","Math","ceil","length","category","minPage","maxPage","slice","$router","push","name","watch","newValue","preValue","computed","filter","product","match","created"],"sourceRoot":""}