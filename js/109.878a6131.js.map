{"version":3,"file":"js/109.878a6131.js","mappings":"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","sources":["webpack://cherish/./src/views/UserPay.vue","webpack://cherish/./src/views/UserPay.vue?92b0"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"/>\n  <div class=\"container mb-5 mb-lg-6\">\n    <div v-if=\"!order.is_paid\" class=\"row justify-content-center mt-6 mt-lg-7\">\n      <div class=\"col-lg-10\">\n        <div class=\"d-flex justify-content-evenly align-items-center my-5\">\n          <div class=\"d-flex flex-column align-items-center border border-primary p-2\">\n            <i class=\"bi bi-cart-check fs-5 pb-2\"/>\n            <span class=\"border-top border-primary pt-2 ls\">確認清單</span>\n          </div>\n          >>>\n          <div class=\"d-flex flex-column align-items-center border border-primary p-2\">\n            <i class=\"bi bi-card-list fs-5 pb-2\"/>\n            <span class=\"border-top border-primary pt-2 ls\">填寫資料</span>\n          </div>\n          >>>\n          <div class=\"d-flex flex-column align-items-center bg-primary text-warning p-2\">\n            <i class=\"bi bi-coin fs-5 pb-2\"/>\n            <span class=\"border-top border-warning pt-2 ls\">結帳付款</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"text-center text-primary mb-12 mt-12\">\n      <i class=\"bi bi-check2-circle display-3\"/>\n      <p class=\"fs-4 my-4 ls\">感謝您的訂購，現貨商品將於1-2天內為您寄出</p>\n      <router-link to=\"/allProducts\" type=\"button\" class=\"btn btn-outline-primary px-5\">\n        繼續購物 <i class=\"bi bi-arrow-right\"/>\n      </router-link>\n    </div>\n    <div class=\"row\">\n      <!-- cart -->\n      <div class=\"col-lg-5\">\n        <table class=\"table border-primary border\">\n          <thead>\n            <tr>\n              <th colspan=\"2\" class=\"ls\">購物品項</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\n              <td class=\"py-3 d-flex align-items-center text-primary\">\n                <div class=\"d-flex align-items-center\">\n                  <img :src=\"item.product.imageUrl\"\n                    :alt=\"item.product.title\" style=\"height: 150px;\">\n                  <div class=\"ms-5\">\n                    <h6 class=\"ls\">{{ item.product.title }}</h6>\n                    <p class=\"mt-3\">\n                      <small class=\"text-muted ls\">數量：</small>\n                      {{ item.qty }}\n                      <small class=\"text-muted ms-1\">{{ item.product.unit }}</small>\n                    </p>\n                    <p class=\"mt-3\">NT$ {{ $filters.currency(item.total) }}</p>\n                  </div>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td class=\"pt-3 ps-3\">\n                <small class=\"text-muted ls\">應付金額：</small>\n                <p class=\"fs-2\">\n                  NT$ {{ $filters.currency(order.total) }}\n                </p>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <!-- 訂購人表單 -->\n      <div class=\"col-lg-7\">\n        <form class=\"mt-5 mt-lg-0\" @submit.prevent=\"payOrder\">\n          <div class=\"mb-4\">\n            <p>ORDER NUMBER</p>\n            <p name=\"orderId\" class=\"form-control text-secondary\">{{ orderId }}</p>\n          </div>\n          <div class=\"mb-4\">\n            <p>NAME</p>\n            <p name=\"姓名\" class=\"form-control text-secondary\">{{ order.user.name }}</p>\n          </div>\n          <div class=\"mb-4\">\n            <p>EMAIL</p>\n            <a :href=\"`mailto:${ order.user.email }`\"\n            class=\"form-control text-secondary text-decoration-none\"\n            >\n            {{ order.user.email }}\n            </a>\n          </div>\n          <div class=\"mb-4\">\n            <p>TEL</p>\n            <a :href=\"`tel:${ order.user.tel }`\"\n              class=\"form-control text-secondary text-decoration-none\">\n              {{ order.user.tel }}\n            </a>\n          </div>\n          <div class=\"mb-4\">\n            <p>ADDRESS</p>\n            <p name=\"地址\" class=\"form-control text-secondary\">\n              {{ order.user.address }}\n            </p>\n          </div>\n          <div class=\"mb-4\" v-if=\"order.message\">\n            <p>REMARK</p>\n            <p name=\"remark\" class=\"form-control text-secondary\">\n              {{ order.message }}\n            </p>\n          </div>\n          <div class=\"mb-4\">\n            <p>PAYMENT STATUS *</p>\n            <p v-if=\"!order.is_paid\" name=\"ispay\" class=\"form-control text-danger\">\n              尚未付款\n            </p>\n            <p v-else name=\"ispay\" class=\"form-control text-success\">\n              付款完成\n            </p>\n          </div>\n          <div v-if=\"!order.is_paid\" class=\"text-end\">\n            <button type=\"submit\" class=\"btn btn-outline-primary w-100 py-2\">\n              結帳付款 <i class=\"bi bi-arrow-right\"/>\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n        products: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    getOrder() { // 取得訂單\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n    payOrder() { // 結帳付款\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.$http.post(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.getOrder();\n            window.scrollTo(0, 0); // 完成後，畫面回最上方\n            this.$httpMessageState(res, '付款'); // toast\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./UserPay.vue?vue&type=template&id=d83f5e20\"\nimport script from \"./UserPay.vue?vue&type=script&lang=js\"\nexport * from \"./UserPay.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_hoisted_3","_createElementVNode","colspan","name","type","_hoisted_49","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","order","is_paid","_createElementBlock","_hoisted_5","_hoisted_6","_hoisted_7","_component_router_link","to","_hoisted_8","_hoisted_2","_hoisted_4","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","products","item","key","id","_hoisted_13","_hoisted_14","src","product","imageUrl","alt","title","style","_hoisted_16","_hoisted_17","_toDisplayString","_hoisted_18","_hoisted_19","qty","_hoisted_20","unit","_hoisted_21","_ctx","$filters","currency","total","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","onSubmit","_cache","_withModifiers","args","$options","payOrder","_hoisted_26","_hoisted_27","_hoisted_28","orderId","_hoisted_29","_hoisted_30","_hoisted_31","user","_hoisted_32","_hoisted_33","href","email","_hoisted_34","_hoisted_35","_hoisted_36","tel","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","address","message","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_47","_hoisted_46","_hoisted_48","_hoisted_50","data","methods","getOrder","this","api","$http","get","then","res","success","catch","err","$httpMessageState","post","window","scrollTo","created","$route","params","__exports__","render"],"sourceRoot":""}