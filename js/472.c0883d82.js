(self["webpackChunkcherish"]=self["webpackChunkcherish"]||[]).push([[472],{8803:function(t,e,s){
/*!
  * Bootstrap toast.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
(function(e,a){t.exports=a(s(1884),s(4130),s(9069),s(1437))})(0,(function(t,e,s,a){"use strict";const i="toast",o="bs.toast",n=`.${o}`,l=`mouseover${n}`,r=`mouseout${n}`,c=`focusin${n}`,d=`focusout${n}`,u=`hide${n}`,h=`hidden${n}`,m=`show${n}`,f=`shown${n}`,v="fade",g="hide",p="show",b="showing",_={animation:"boolean",autohide:"boolean",delay:"number"},w={animation:!0,autohide:!0,delay:5e3};class k extends t{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return w}static get DefaultType(){return _}static get NAME(){return i}show(){const t=e.trigger(this._element,m);if(t.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(v);const s=()=>{this._element.classList.remove(b),e.trigger(this._element,f),this._maybeScheduleHide()};this._element.classList.remove(g),a.reflow(this._element),this._element.classList.add(p,b),this._queueCallback(s,this._element,this._config.animation)}hide(){if(!this.isShown())return;const t=e.trigger(this._element,u);if(t.defaultPrevented)return;const s=()=>{this._element.classList.add(g),this._element.classList.remove(b,p),e.trigger(this._element,h)};this._element.classList.add(b),this._queueCallback(s,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(p),super.dispose()}isShown(){return this._element.classList.contains(p)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e;break}if(e)return void this._clearTimeout();const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){e.on(this._element,l,(t=>this._onInteraction(t,!0))),e.on(this._element,r,(t=>this._onInteraction(t,!1))),e.on(this._element,c,(t=>this._onInteraction(t,!0))),e.on(this._element,d,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=k.getOrCreateInstance(this,t);if("string"===typeof t){if("undefined"===typeof e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return s.enableDismissTrigger(k),a.defineJQueryPlugin(k),k}))},2393:function(t,e){"use strict";e.Z={saveLocal(t){const e=JSON.stringify(t);localStorage.setItem("favoriteItems",e)},getLocal(){return JSON.parse(localStorage.getItem("favoriteItems"))}}},7236:function(t,e,s){"use strict";s.d(e,{Z:function(){return k}});var a=s(3396);const i={class:"toast-container position-fixed bottom-0 start-50 translate-middle p-3",style:{"z-index":"12"}};function o(t,e,s,o,n,l){const r=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",i,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.messages,((t,e)=>((0,a.wg)(),(0,a.j4)(r,{key:e,msg:t},null,8,["msg"])))),128))])}s(560);var n=s(7139);const l={class:"toast bg-info rounded-0",role:"alert","aria-live":"assertive","aria-atomic":"true",ref:"toast"},r={class:"toast-header bg-info p-4"},c={class:"me-auto ls"},d=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"},null,-1),u={key:0,class:"toast-body text-primary ls"};function h(t,e,s,i,o,h){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",r,[(0,a._)("span",{class:(0,n.C_)([`bg-${s.msg.style}`,"p-2 me-2 d-inline-block"])},null,2),(0,a._)("strong",c,(0,n.zw)(s.msg.title),1),d]),s.msg.content?((0,a.wg)(),(0,a.iD)("div",u,(0,n.zw)(s.msg.content),1)):(0,a.kq)("",!0)],512)}var m=s(8803),f=s.n(m),v={name:"Toast",props:["msg"],mounted(){const t=this.$refs.toast,e=new(f())(t,{delay:5e3});e.show()}},g=s(89);const p=(0,g.Z)(v,[["render",h]]);var b=p,_={components:{Toast:b},data(){return{messages:[]}},inject:["emitter"],mounted(){this.emitter.on("push-message",(t=>{const{style:e="success",title:s,content:a}=t;this.messages.push({style:e,title:s,content:a})}))}};const w=(0,g.Z)(_,[["render",o]]);var k=w},5472:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return vt}});var a=s(3396);const i={key:0,class:"position-fixed end-0 bottom-0 pe-3 pe-lg-5",style:{"z-index":"100"}},o=(0,a._)("i",{class:"bi bi-caret-up-fill fs-3 text-primary"},null,-1),n=[o];function l(t,e,s,o,l,r){const c=(0,a.up)("UserNav"),d=(0,a.up)("ToastMessages"),u=(0,a.up)("router-view"),h=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(c),(0,a.Wm)(d),(0,a.Wm)(u),(0,a.Wm)(h),l.isShow?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("button",{type:"button",class:"btn p-3",onClick:e[0]||(e[0]=(...t)=>r.scrollToTop&&r.scrollToTop(...t))},n)])):(0,a.kq)("",!0)],64)}var r=s(7139),c=s(9242),d=s(5080);const u={class:"container"},h=(0,a._)("img",{src:d,alt:"cherishLogo"},null,-1),m={class:"d-flex d-lg-none"},f=(0,a._)("i",{class:"bi bi-cart3"},null,-1),v={key:0},g={type:"button",id:"dropdownMenuButton1",class:"nav-favorite text-primary nav-bg fs-4 border-0 p-2 me-2","data-bs-toggle":"offcanvas","data-bs-target":"#userFavoritesModal","aria-controls":"offcanvasWithBackdrop"},p=(0,a._)("i",{class:"bi bi-suit-heart"},null,-1),b={key:0},_=(0,a._)("button",{class:"text-primary fs-4 border-0 nav-bg",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#routerOffcanvas","aria-controls":"navbarText"},[(0,a._)("i",{class:"bi bi-list"})],-1),w={class:"collapse navbar-collapse",id:"navbarText",ref:"navbarCollapse"},k={class:"navbar-nav mx-auto ls"},y={class:"d-none d-lg-block"},x=(0,a._)("i",{class:"bi bi-cart3"},null,-1),C={key:0},T={type:"button",class:"nav-favorite text-primary nav-bg fs-4 border-0 p-2","data-bs-toggle":"offcanvas","data-bs-target":"#userFavoritesModal","aria-controls":"offcanvasWithBackdrop"},I=(0,a._)("i",{class:"bi bi-suit-heart"},null,-1),S={key:0},$={class:"offcanvas offcanvas-end",tabindex:"-1",id:"routerOffcanvas","aria-labelledby":"routerOffcanvasLabel"},L=(0,a._)("div",{class:"offcanvas-header bg-info"},[(0,a._)("div",{class:"offcanvas-title logo",id:"routerOffcanvasLabel"},[(0,a._)("img",{src:d,alt:"cherishLogo"})]),(0,a._)("button",{id:"routerOffcanvasToggler",type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),M={class:"offcanvas-body bg-warning"},D={class:"navbar-nav mx-auto ls"},W={class:"offcanvas offcanvas-end",tabindex:"-1",id:"userFavoritesModal","aria-labelledby":"offcanvasWithBackdropLabel"},Z=(0,a._)("div",{class:"offcanvas-header bg-info"},[(0,a._)("h5",{class:"offcanvas-title ls",id:"offcanvasWithBackdropLabel"},"收藏商品"),(0,a._)("button",{id:"favoritesOffcanvasToggler",type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1),O={class:"offcanvas-body bg-warning overflow-auto"},F={class:"list-unstyled"},q={key:0,class:"text-center"},U=(0,a._)("div",{class:"text-primary ls mb-3"},"目前沒有收藏商品",-1),z=["src","alt"],N={class:"d-flex flex-column ps-3 w-100"},E={class:"fs-5 ls"},H={key:0,class:"fs-6 mb-0"},P={key:1,class:"fs-6 text-danger mb-0"},B={key:2,class:"small text-muted mb-0"},j=["onClick"],A=(0,a._)("i",{class:"bi bi-cart-plus fs-4"},null,-1),K=[A],Y=["onClick"],J=(0,a._)("i",{class:"bi bi-x-lg"},null,-1),Q=[J];function G(t,e,s,i,o,n){const l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("nav",{class:(0,r.C_)(["navbar navbar-expand-lg nav-bg fixed-top",{"nav-float":o.isFloat}])},[(0,a._)("div",u,[(0,a.Wm)(l,{to:"/",class:"navbar-brand logo"},{default:(0,a.w5)((()=>[h])),_:1}),(0,a._)("div",m,[(0,a.Wm)(l,{to:"/cart",class:"nav-cart text-primary nav-bg fs-4 border-0 p-2 me-2"},{default:(0,a.w5)((()=>[f,o.carts.length?((0,a.wg)(),(0,a.iD)("span",v,(0,r.zw)(n.cartsNum),1)):(0,a.kq)("",!0)])),_:1}),(0,a._)("button",g,[p,o.favoriteItems.length?((0,a.wg)(),(0,a.iD)("span",b,(0,r.zw)(o.favoriteItems.length),1)):(0,a.kq)("",!0)]),_]),(0,a._)("div",w,[(0,a._)("div",k,[(0,a.Wm)(l,{to:"/",class:"nav-link link-primary text-center mx-lg-3 link-hover ls"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 首頁 ")])),_:1}),(0,a.Wm)(l,{to:"/allProducts",class:"nav-link link-primary text-center mx-lg-3 link-hover ls"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 所有商品 ")])),_:1}),(0,a.Wm)(l,{to:"/store",class:"nav-link link-primary text-center mx-lg-3 link-hover ls"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 門市資訊 ")])),_:1})])],512),(0,a._)("div",y,[(0,a.Wm)(l,{to:"/cart",class:"nav-cart text-primary nav-bg fs-4 border-0 p-2 me-2"},{default:(0,a.w5)((()=>[x,o.carts.length?((0,a.wg)(),(0,a.iD)("span",C,(0,r.zw)(n.cartsNum),1)):(0,a.kq)("",!0)])),_:1}),(0,a._)("button",T,[I,o.favoriteItems.length?((0,a.wg)(),(0,a.iD)("span",S,(0,r.zw)(o.favoriteItems.length),1)):(0,a.kq)("",!0)])])])],2),(0,a._)("div",$,[L,(0,a._)("div",M,[(0,a._)("div",D,[(0,a.Wm)(l,{to:"/",class:"nav-link link-primary text-center mx-lg-3 my-3 link-hover ls",onClick:(0,c.iM)(n.closeOffcanvas,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Uk)(" 首頁 ")])),_:1},8,["onClick"]),(0,a.Wm)(l,{to:"/allProducts",class:"nav-link link-primary text-center mx-lg-3 my-3 link-hover ls",onClick:(0,c.iM)(n.closeOffcanvas,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Uk)(" 所有商品 ")])),_:1},8,["onClick"]),(0,a.Wm)(l,{to:"/store",class:"nav-link link-primary text-center mx-lg-3 my-3 link-hover ls",onClick:(0,c.iM)(n.closeOffcanvas,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Uk)(" 門市資訊 ")])),_:1},8,["onClick"])])])]),(0,a._)("div",W,[Z,(0,a._)("div",O,[(0,a._)("ul",F,[o.products.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("li",q,[U,(0,a.Wm)(l,{to:"/allProducts",type:"button",class:"btn btn-outline-primary",onClick:(0,c.iM)(n.closeOffcanvas,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Uk)(" 來去逛逛 ")])),_:1},8,["onClick"])])),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.products,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"mb-3"},[(0,a.Wm)(l,{to:{path:`/product/${e.id}`},class:"dropdown-item text-primary d-flex align-items-center",onClick:(0,c.iM)(n.closeOffcanvas,["prevent"])},{default:(0,a.w5)((()=>[(0,a._)("img",{src:e.imageUrl,alt:e.title,style:{width:"100px"}},null,8,z),(0,a._)("div",N,[(0,a._)("div",E,(0,r.zw)(e.title),1),e.price===e.origin_price?((0,a.wg)(),(0,a.iD)("div",H," NT$ "+(0,r.zw)(t.$filters.currency(e.origin_price)),1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("div",P," NT$ "+(0,r.zw)(t.$filters.currency(e.price)),1)):(0,a.kq)("",!0),e.price!==e.origin_price?((0,a.wg)(),(0,a.iD)("del",B," NT$ "+(0,r.zw)(t.$filters.currency(e.origin_price)),1)):(0,a.kq)("",!0)]),(0,a._)("button",{type:"button",class:"btn py-2","data-bs-dismiss":"offcanvas",onClick:(0,c.iM)((t=>n.addToCart(e.id)),["prevent"])},K,8,j),(0,a._)("button",{type:"button",class:"btn btn-lg","data-bs-dismiss":"offcanvas",onClick:(0,c.iM)((t=>n.delFavoriteItems(e)),["stop","prevent"])},Q,8,Y)])),_:2},1032,["to","onClick"])])))),128))])])])],64)}var R=s(5820),V=s(2393),X={data(){return{isFloat:!1,carts:[],favoriteItems:V.Z.getLocal()||[],products:""}},methods:{closeOffcanvas(){document.getElementById("routerOffcanvasToggler").click(),document.getElementById("favoritesOffcanvasToggler").click()},windowScroll(){window.scrollY>10?this.isFloat=!0:this.isFloat=!1},getCart(){const t="https://vue3-course-api.hexschool.io/api/jewelry-api/cart";this.$http.get(t).then((t=>{t.data.success&&(this.carts=t.data.data.carts)})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次")}))},getAllProducts(){const t="https://vue3-course-api.hexschool.io/api/jewelry-api/products/all";this.$http.get(t).then((t=>{this.products=t.data.products.filter((t=>this.favoriteItems.includes(t.id)))})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次")}))},addToCart(t,e=1){const s="https://vue3-course-api.hexschool.io/api/jewelry-api/cart",a={product_id:t,qty:e};this.$http.post(s,{data:a}).then((t=>{R.Z.emit("updateCart"),this.$httpMessageState(t,"加入購物車")})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次")}))},delFavoriteItems(t){this.favoriteItems.splice(this.favoriteItems.indexOf(t.id),1),R.Z.emit("push-message",{style:"success",title:"已從收藏清單中移除"}),V.Z.saveLocal(this.favoriteItems),R.Z.emit("updateFavorite")},getFavorite(){this.favoriteItems=V.Z.getLocal(),this.getAllProducts()}},computed:{cartsNum(){let t=0;return this.carts.forEach((e=>{t+=e.qty})),t}},mounted(){window.addEventListener("scroll",this.windowScroll),R.Z.on("updateCart",this.getCart),R.Z.on("updateFavorite",this.getFavorite),this.getAllProducts(),this.getCart()},unmounted(){R.Z.off("updateCart",this.getCart),R.Z.off("updateFavorite",this.getFavorite)}},tt=s(89);const et=(0,tt.Z)(X,[["render",G]]);var st=et,at=s(7236);const it={class:"bg-info text-primary pt-5 pt-lg-6"},ot=(0,a.uE)('<div class="container ls"><div class="row row-cols-1 row-cols-lg-2 pb-5 pb-lg-6"><div class="col-lg-5"><p class="ls">實體門市</p></div><div class="col-lg-7 mt-4 mt-lg-0"><p>404 台中市北區一中街xxx號 / 一中商圈內</p><a href="tel:0498765432"><i class="bi bi-telephone-fill me-3"></i>04-98765432</a></div></div><div class="row row-cols-1 row-cols-lg-2 pb-5 pb-lg-6"><div class="col-lg-5"><p class="ls">追蹤我們</p></div><div class="col-lg-7 mt-4 mt-lg-0"><a href="#" class="fs-3 me-4"><i class="bi bi-instagram"></i><span class="d-none">.</span></a><a href="#" class="fs-3"><i class="bi bi-facebook"></i><span class="d-none">.</span></a></div></div></div>',1),nt={class:"text-muted text-center ls mb-0 pb-4"},lt=(0,a._)("i",{class:"bi bi-arrow-right"},null,-1),rt=(0,a._)("br",null,null,-1);function ct(t,e){const s=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("footer",it,[ot,(0,a._)("p",nt,[(0,a.Uk)(" 個人作品無商業用途｜ "),(0,a.Wm)(s,{to:"/dashboard/login",class:"text-decoration-none link-hover"},{default:(0,a.w5)((()=>[(0,a.Uk)(" 管理員登入 "),lt])),_:1}),rt,(0,a.Uk)(" Copyright © 2024 Meng-Hsuan Wu. All rights reserved. ")])])}const dt={},ut=(0,tt.Z)(dt,[["render",ct]]);var ht=ut,mt={data(){return{isShow:!1}},components:{UserNav:st,ToastMessages:at.Z,Footer:ht},provide(){return{emitter:R.Z}},methods:{scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},isShowScroll(){const t=document.documentElement,e=t.scrollHeight-t.clientHeight;t.scrollTop/e>.1?this.isShow=!0:this.isShow=!1}},mounted(){document.addEventListener("scroll",this.isShowScroll)},unmounted(){document.removeEventListener("scroll",this.isShowScroll)}};const ft=(0,tt.Z)(mt,[["render",l]]);var vt=ft},5080:function(t,e,s){"use strict";t.exports=s.p+"img/logo.2db43418.png"}}]);
//# sourceMappingURL=472.c0883d82.js.map