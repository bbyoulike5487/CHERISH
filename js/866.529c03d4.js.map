{"version":3,"file":"js/866.529c03d4.js","mappings":"2GAAA,KACEA,SAAAA,CAAUC,GACR,MAAMC,EAAaC,KAAKC,UAAUH,GAClCI,aAAaC,QAAQ,gBAAiBJ,EACxC,EACAK,QAAAA,GACE,OAAOJ,KAAKK,MAAMH,aAAaI,QAAQ,iBACzC,E,gHCLKC,MAAM,a,GACJA,MAAM,gB,GACJ,aAAW,c,GACVA,MAAM,c,GACJA,MAAM,mB,GAMNA,MAAM,yBAAyB,eAAa,Q,GAIjDA,MAAM,oC,GAEJA,MAAM,WAAWC,MAAA,oC,aAKjBD,MAAM,Y,GACJA,MAAM,oD,GACLA,MAAM,W,GAGPA,MAAM,uB,GACXE,EAAAA,EAAAA,GAAI,mB,GAECF,MAAM,0B,SACJA,MAAM,W,SAGNA,MAAM,4B,SAGNA,MAAM,2B,SAGRA,MAAM,gDAEPC,MAAA,sB,GAIJC,EAAAA,EAAAA,GAAI,mB,GAECF,MAAM,W,GACNA,MAAM,c,GACPE,EAAAA,EAAAA,GAAqC,QAA/BF,MAAM,gBAAe,OAAG,G,2PAgB7BA,MAAM,uC,GAEHA,MAAM,gE,GACHG,IAAI,aAAaH,MAAM,sB,GACvBA,MAAM,e,kBAkBVA,MAAM,0B,SAIJA,MAAM,yB,SACNA,MAAM,oB,GAKVA,MAAM,U,kBAcfE,EAAAA,EAAAA,GAAsD,KAAnDF,MAAM,gCAA+B,cAAU,G,GAC7CA,MAAM,6C,6BAKAA,MAAM,c,mBAGNA,MAAM,qF,GAENA,MAAM,M,GACJA,MAAM,U,SACNA,MAAM,gDAEPC,MAAA,sB,GAICD,MAAM,0B,mBAIJA,MAAM,e,SAINA,MAAM,yB,wHA3IvBI,EAAAA,EAAAA,IAA8BC,GAAA,CAApBC,OAAQC,GAAAC,WAAS,oBAC3BN,EAAAA,EAAAA,GAmJM,MAnJNO,EAmJM,EAlJJP,EAAAA,EAAAA,GAYM,MAZNQ,EAYM,EAXJR,EAAAA,EAAAA,GAUM,MAVNS,EAUM,EATJT,EAAAA,EAAAA,GAQK,KARLU,EAQK,EAPHV,EAAAA,EAAAA,GAKK,KALLW,EAKK,EAJHT,EAAAA,EAAAA,IAGcU,GAAA,CAHDC,GAAG,eACdf,MAAM,sE,mBAAqE,IAE7E,UAF6E,a,SAI/EE,EAAAA,EAAAA,GAA+E,KAA/Ec,GAA+EC,EAAAA,EAAAA,IAArBV,GAAAW,QAAQC,OAAK,UAI7EjB,EAAAA,EAAAA,GA+FM,MA/FNkB,EA+FM,EA7FJlB,EAAAA,EAAAA,GAGM,MAHNmB,EAGM,EAFJnB,EAAAA,EAAAA,GAC6B,OADvBoB,IAAKf,GAAAW,QAAQK,SAAUC,IAAI,eAAexB,MAAM,iBACpDC,MAAA,wB,aAGJC,EAAAA,EAAAA,GAuFM,MAvFNuB,EAuFM,EAtFJvB,EAAAA,EAAAA,GAEM,MAFNwB,EAEM,EADJxB,EAAAA,EAAAA,GAA4C,KAA5CyB,GAA4CV,EAAAA,EAAAA,IAArBV,GAAAW,QAAQC,OAAK,MAGtCjB,EAAAA,EAAAA,GAA4D,MAA5D0B,GAA4DX,EAAAA,EAAAA,IAAxBV,GAAAW,QAAQW,SAAO,GACnDC,GAEA5B,EAAAA,EAAAA,GAeM,MAfN6B,EAeM,CAduBxB,GAAAW,QAAQc,QAAUzB,GAAAW,QAAQe,eAAY,WAAjEC,EAAAA,EAAAA,IAEM,MAFNC,EAAmE,SAC7DlB,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS/B,GAAAW,QAAQe,eAAY,oBAEH1B,GAAAW,QAAQc,QAAUzB,GAAAW,QAAQe,eAAY,WAAlFC,EAAAA,EAAAA,IAEM,MAFNK,EAAoF,SAC9EtB,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS/B,GAAAW,QAAQc,QAAK,oBAEGzB,GAAAW,QAAQc,QAAUzB,GAAAW,QAAQe,eAAY,WAAjFC,EAAAA,EAAAA,IAEM,MAFNM,EAAmF,SAC7EvB,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS/B,GAAAW,QAAQe,eAAY,oBAGvC1B,GAAAW,QAAQc,QAAUzB,GAAAW,QAAQe,eAAY,WAD9CC,EAAAA,EAAAA,IAII,IAJJO,EAE2B,YAE3B,iBAEFC,GAEAxC,EAAAA,EAAAA,GAiBM,MAjBNyC,EAiBM,EAhBJzC,EAAAA,EAAAA,GAGI,IAHJ0C,EAGI,CAFFC,GAAqC,aACnC5B,EAAAA,EAAAA,IAAGV,GAAAW,QAAQ4B,aAAW,KAE1BC,KAaF7C,EAAAA,EAAAA,GA8BM,MA9BN8C,EA8BM,EA5BJ9C,EAAAA,EAAAA,GAkBO,OAlBP+C,EAkBO,EAjBL/C,EAAAA,EAAAA,GAgBQ,QAhBRgD,EAgBQ,UAhB2C,QACjDhD,EAAAA,EAAAA,GAcM,MAdNiD,EAcM,EAbJjD,EAAAA,EAAAA,GAGS,UAHDF,MAAM,sDAAsDoD,KAAK,SACtEC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,GAAAC,YAAY,IACnBC,SAAyB,IAAfnD,GAAAoD,YAAkB,KAC/B,EAAAC,IAAA,SACA1D,EAAAA,EAAAA,GAKuB,SALhBkD,KAAK,SACVS,GAAG,aACH7D,MAAM,2BACN,aAAW,aACX8D,IAAI,I,qCACKvD,GAAAoD,WAAUJ,I,iBAAVhD,GAAAoD,eACXzD,EAAAA,EAAAA,GAES,UAFDF,MAAM,sDAAsDoD,KAAK,SACtEC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,GAAAC,WAAW,KAAI,aAM/BvD,EAAAA,EAAAA,GAOM,MAPN6D,EAOM,EANJ7D,EAAAA,EAAAA,GAKS,UALDkD,KAAK,SACXpD,MAAM,6CACLqD,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,GAAAQ,eAAezD,GAAAW,W,CACgBX,GAAA0D,cAAcC,SAAS3D,GAAAW,QAAQ2C,MAAE,WAAxE3B,EAAAA,EAAAA,IAA4E,IAA5EiC,MAA4E,WAC5EjC,EAAAA,EAAAA,IAAoC,IAApCkC,WAKNlE,EAAAA,EAAAA,GAUM,MAVNmE,EAUM,EATJnE,EAAAA,EAAAA,GAGS,UAHDkD,KAAK,SAASpD,MAAM,iCACzBqD,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,GAAAc,SAAS/D,GAAAW,QAAQ2C,MAAK,WAGhC3D,EAAAA,EAAAA,GAIS,UAJDkD,KAAK,SAASpD,MAAM,oCACzB0D,SAAQ,KAAOa,OAAOC,cAAgBjE,GAAAW,QAAQ2C,GAC9CR,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,GAAAiB,UAAUlE,GAAAW,QAAQ2C,MAAK,UAEjC,EAAAa,SAKNC,GACAzE,EAAAA,EAAAA,GAkCM,MAlCN0E,EAkCM,gBAjCJ1C,EAAAA,EAAAA,IAgCM2C,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAhCoCvE,GAAAwE,QAARC,K,WAAlC9C,EAAAA,EAAAA,IAgCM,OAhCDlC,MAAM,gBAAwCiF,IAAKD,EAAKnB,I,EAC3D3D,EAAAA,EAAAA,GA8BM,OA9BDF,MAAM,gCACRqD,SAAK6B,EAAAA,EAAAA,KAAA3B,GAAUC,GAAA2B,YAAYH,EAAKnB,KAAE,aAClCuB,UAAO7B,GAAEC,GAAA2B,YAAYH,EAAKnB,K,EAC3B3D,EAAAA,EAAAA,GAEM,MAFNmF,EAEM,EADJnF,EAAAA,EAAAA,GAA2E,OAArEoB,IAAK0D,EAAKzD,SAAUvB,MAAM,yBAA0BwB,IAAKwD,EAAK7D,O,aAEtEjB,EAAAA,EAAAA,GAuBM,MAvBNoF,EAuBM,EArBJpF,EAAAA,EAAAA,GAAkC,IAAlCqF,GAAkCtE,EAAAA,EAAAA,IAAjB+D,EAAK7D,OAAK,IAC3BjB,EAAAA,EAAAA,GAMM,MANNsF,EAMM,CAJIR,EAAKhD,QAAUgD,EAAK/C,eAAY,WADxCC,EAAAA,EAAAA,IAII,IAJJuD,EAE2B,YAE3B,kBAEFvF,EAAAA,EAAAA,GAYM,MAZNwF,EAYM,CAXOV,EAAKhD,QAAUgD,EAAK/C,eAAY,WAA3CC,EAAAA,EAAAA,IAEM,MAAAyD,EAFuC,SACvC1E,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS0C,EAAK/C,eAAY,oBAGpC+C,EAAKhD,QAAUgD,EAAK/C,eAAY,WADxCC,EAAAA,EAAAA,IAGM,MAHN0D,EAC0C,SACpC3E,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS0C,EAAKhD,QAAK,oBAG7BgD,EAAKhD,QAAUgD,EAAK/C,eAAY,WADxCC,EAAAA,EAAAA,IAGM,MAHN2D,EAC0C,SACpC5E,EAAAA,EAAAA,IAAGmB,EAAAC,SAASC,SAAS0C,EAAK/C,eAAY,oC,gDAc1D,IACE6D,IAAAA,GACE,MAAO,CACL5E,QAAS,CAAC,EACV2C,GAAI,GACJF,WAAY,EACZM,cAAe8B,GAAAA,EAAgBlG,YAAc,GAC7C0E,OAAQ,CACNC,YAAa,IAEfO,OAAQ,GACRvE,WAAW,EAEf,EACAwF,QAAS,CACPC,UAAAA,GACEC,KAAK1F,WAAY,EACjB,MAAM2F,EAAO,gEAAoED,KAAKrC,KACtFqC,KAAKE,MAAMC,IAAIF,GACZG,MAAMC,IACDA,EAAIT,KAAKU,UACXN,KAAKhF,QAAUqF,EAAIT,KAAK5E,QACxBgF,KAAK1F,WAAY,EACnB,IAEDiG,OAAOC,IACNR,KAAKS,kBAAkBD,EAAK,cAC5BR,KAAK1F,WAAY,CAAK,GAE5B,EACAoG,aAAAA,GACEV,KAAK1F,WAAY,EACjB,MAAM2F,EAAO,oEACbD,KAAKE,MAAMC,IAAIF,GACZG,MAAMC,IACDA,EAAIT,KAAKU,UACXN,KAAKnB,OAASwB,EAAIT,KAAKe,SACpBC,QAAQC,GAAMA,EAAElD,KAAOqC,KAAKrC,KAC5BmD,MAAK,IAAMC,KAAKC,SAAW,KAC3BC,OAAO,EAAG,GACbjB,KAAK1F,WAAY,EACnB,IAEDiG,OAAOC,IACNR,KAAKS,kBAAkBD,EAAK,cAC5BR,KAAK1F,WAAY,CAAK,GAE5B,EACAiE,SAAAA,CAAUZ,EAAIuD,EAAMlB,KAAKvC,YACvB,MAAMwC,EAAO,4DACbD,KAAK3B,OAAOC,YAAcX,EAC1B,MAAMwD,EAAO,CACXC,WAAYzD,EACZuD,OAEFlB,KAAKE,MAAMmB,KAAKpB,EAAK,CAAEL,KAAMuB,IAC1Bf,MAAMC,IACLiB,GAAAA,EAAQC,KAAK,cACbvB,KAAK3B,OAAOC,YAAc,GAC1B0B,KAAKS,kBAAkBJ,EAAK,SAC5BL,KAAKvC,WAAa,CAAC,IAEpB8C,OAAOC,IACNR,KAAKS,kBAAkBD,EAAK,aAAa,GAE/C,EACAjD,UAAAA,CAAWiE,GACTxB,KAAKvC,YAAe+D,CACtB,EACApD,QAAAA,CAAST,EAAIuD,EAAM,GACjBlB,KAAKzB,UAAUZ,EAAIuD,GACnBlB,KAAKyB,QAAQC,KAAK,QACpB,EACA5D,cAAAA,CAAegB,GACTkB,KAAKjC,cAAcC,SAASc,EAAKnB,KACnCqC,KAAKjC,cAAckD,OAAOjB,KAAKjC,cAAc4D,QAAQ7C,EAAKnB,IAAK,GAC/D2D,GAAAA,EAAQC,KAAK,eAAgB,CAC3BxH,MAAO,UACPkB,MAAO,gBAGT+E,KAAKjC,cAAc2D,KAAK5C,EAAKnB,IAC7B2D,GAAAA,EAAQC,KAAK,eAAgB,CAC3BxH,MAAO,UACPkB,MAAO,cAGX4E,GAAAA,EAAgBzG,UAAU4G,KAAKjC,eAC/BuD,GAAAA,EAAQC,KAAK,iBACf,EACAK,cAAAA,GACE5B,KAAKjC,cAAgB8B,GAAAA,EAAgBlG,WACrCqG,KAAKD,YACP,EACAd,WAAAA,CAAYtB,GACVqC,KAAKyB,QAAQC,KAAM,YAAW/D,KAC9BqC,KAAKrC,GAAKA,EACVqC,KAAKD,aACLC,KAAKU,eACP,GAEFmB,OAAAA,GACE7B,KAAKrC,GAAKqC,KAAK8B,OAAOC,OAAOC,UAC7BhC,KAAKD,aACLuB,GAAAA,EAAQW,GAAG,iBAAkBjC,KAAK4B,gBAClC5B,KAAKU,eACP,EACAwB,SAAAA,GACEZ,GAAAA,EAAQa,IAAI,iBAAkBnC,KAAK4B,eACrC,G,SCpQF,MAAMQ,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,KAEpE,S","sources":["webpack://cherish/./src/methods/handleFavorites.js","webpack://cherish/./src/views/UserProduct.vue","webpack://cherish/./src/views/UserProduct.vue?c4ac"],"sourcesContent":["export default {\n  saveLocal(itemId) {\n    const favoriteId = JSON.stringify(itemId);\n    localStorage.setItem('favoriteItems', favoriteId);\n  },\n  getLocal() {\n    return JSON.parse(localStorage.getItem('favoriteItems'));\n  },\n};\n","<template>\n  <Loading :active=\"isLoading\"/>\n  <div class=\"container\">\n    <div class=\"mt-6 mt-lg-7\">\n      <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n          <li class=\"breadcrumb-item\">\n            <router-link to=\"/allProducts\"\n              class=\"link-secondary text-decoration-none border-bottom border-secondary\">\n              所有商品\n            </router-link>\n          </li>\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\n        </ol>\n      </nav>\n    </div>\n    <div class=\"row row-cols-1 row-cols-md-2 g-4\">\n      <!-- 商品照片 -->\n      <div class=\"col-lg-5\" style=\"height: 600px; overflow:hidden;\">\n        <img :src=\"product.imageUrl\" alt=\"productImage\" class=\"img-fluid mb-3\"\n          style=\"object-fit: cover;\">\n      </div>\n      <!-- 商品名稱 -->\n      <div class=\"col-lg-6\">\n        <div class=\"d-flex justify-content-between text-primary mb-3\">\n          <h2 class=\"ls mb-0\">{{ product.title }}</h2>\n        </div>\n        <!-- 產品說明 -->\n        <div class=\"text-muted lh-lg ls\">{{ product.content }}</div>\n        <hr>\n        <!-- 價格 -->\n        <div class=\"d-flex align-items-end\">\n          <div class=\"h4 mb-0\" v-if=\"product.price === product.origin_price\">\n            NT$ {{ $filters.currency(product.origin_price) }}\n          </div>\n          <div class=\"h4 text-danger me-3 mb-0\" v-if=\"product.price !== product.origin_price\">\n            NT$ {{ $filters.currency(product.price) }}\n          </div>\n          <del class=\"h6 text-muted me-3 mb-0\" v-if=\"product.price !== product.origin_price\">\n            NT$ {{ $filters.currency(product.origin_price) }}\n          </del>\n          <p class=\"text-danger border border-danger px-1 mb-0 ls\"\n            v-if=\"product.price !== product.origin_price\"\n            style=\"font-size: 10px;\">\n            SALE\n          </p>\n        </div>\n        <hr>\n        <!-- 產品規格 -->\n        <div class=\"ls mb-4\">\n          <p class=\"text-muted\">\n            <span class=\"text-primary\">規格｜</span>\n              {{ product.description }}\n          </p>\n          <p class=\"text-muted\">\n            <span class=\"text-primary\">產地｜</span>\n              台灣\n          </p>\n          <p class=\"text-muted\">\n            <span class=\"text-primary\">付款方式｜</span>\n              超商貨到付款、信用卡一次付清、LINE Pay\n          </p>\n          <p class=\"text-muted\">\n            <span class=\"text-primary\">配送方式｜</span>\n              超商取貨、宅配\n          </p>\n        </div>\n        <div class=\"d-flex justify-content-between mb-4\">\n          <!-- 數量 -->\n          <form class=\"d-flex flex-column text-primary border-bottom border-primary\">\n            <label for=\"productNum\" class=\"form-label fs-4 ls\">數量\n              <div class=\"input-group\">\n                <button class=\"btn btn-outline-primary fs-5 border-0 productNumBtn\" type=\"button\"\n                  @click=\"refreshQty(-1)\"\n                  :disabled=\"productQty === 1\">–\n                </button>\n                <input type=\"number\"\n                  id=\"productNum\"\n                  class=\"form-control text-center\"\n                  aria-label=\"productNum\"\n                  min=\"1\"\n                  v-model=\"productQty\">\n                <button class=\"btn btn-outline-primary fs-5 border-0 productNumBtn\" type=\"button\"\n                  @click=\"refreshQty(1)\">+\n                </button>\n              </div>\n            </label>\n          </form>\n          <!-- 喜愛商品 -->\n          <div class=\"d-flex align-items-end\">\n            <button type=\"button\"\n              class=\"text-primary bg-warning fs-3 border-0 mx-1\"\n              @click=\"toggleFavorite(product)\">\n              <i class=\"bi bi-suit-heart-fill\" v-if=\"favoriteItems.includes(product.id)\"/>\n              <i class=\"bi bi-suit-heart\" v-else/>\n            </button>\n          </div>\n        </div>\n        <!-- 立即購買 & 加入購物車 -->\n        <div class=\"d-flex\">\n          <button type=\"button\" class=\"btn btn-primary w-50 py-2 me-3\"\n            @click=\"goToCart(product.id)\">\n            立即購買\n          </button>\n          <button type=\"button\" class=\"btn btn-outline-primary w-50 py-2\"\n            :disabled=\"this.status.loadingItem === product.id\"\n            @click=\"addToCart(product.id)\">\n            加入購物車\n          </button>\n        </div>\n      </div>\n    </div>\n    <!-- others -->\n    <p class=\"text-primary mt-5 mt-lg-6 ls\">看看其他商品 ...</p>\n    <div class=\"row row-cols-2 row-cols-lg-6 mb-5 mb-lg-6\">\n      <div class=\"col px-2 mb-3\" v-for=\"item in others\" :key=\"item.id\">\n        <div class=\"card border-0 h-100 cardHover\"\n          @click.prevent=\"goToProduct(item.id)\"\n          @keydown=\"goToProduct(item.id)\">\n          <div class=\"imageHover\">\n            <img :src=\"item.imageUrl\" class=\"card-img-top img-fluid\" :alt=\"item.title\">\n          </div>\n          <div class=\"card-body text-primary bg-warning px-0\n            d-flex flex-column justify-content-between\">\n            <p class=\"ls\">{{ item.title }}</p>\n            <div class=\"d-flex\">\n              <p class=\"text-danger border border-danger px-1 mb-1 ls\"\n                v-if=\"item.price !== item.origin_price\"\n                style=\"font-size: 10px;\">\n                SALE\n              </p>\n            </div>\n            <div class=\"d-flex align-items-end\">\n              <div v-if=\"item.price === item.origin_price\">\n                NT$ {{ $filters.currency(item.origin_price) }}\n              </div>\n              <div class=\"text-danger\"\n                v-if=\"item.price !== item.origin_price\">\n                NT$ {{ $filters.currency(item.price) }}\n              </div>\n              <del class=\"small text-muted ms-2\"\n                v-if=\"item.price !== item.origin_price\">\n                NT$ {{ $filters.currency(item.origin_price) }}\n              </del>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport handleFavorites from '@/methods/handleFavorites';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      id: '',\n      productQty: 1, // 商品數量\n      favoriteItems: handleFavorites.getLocal() || [], // 商品收藏\n      status: {\n        loadingItem: '', // 對應品項 id\n      },\n      others: [],\n      isLoading: false,\n    };\n  },\n  methods: {\n    getProduct() { // 取得商品資料\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.id}`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.product = res.data.product;\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n    otherProducts() { // others 商品\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http.get(api)\n        .then((res) => {\n          if (res.data.success) {\n            this.others = res.data.products\n              .filter((x) => x.id !== this.id)\n              .sort(() => Math.random() - 0.5) // 亂數排序\n              .splice(1, 6);\n            this.isLoading = false;\n          }\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n    addToCart(id, qty = this.productQty) { // 加入購物車\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(api, { data: cart })\n        .then((res) => {\n          emitter.emit('updateCart'); // 與 navCart 同步更新\n          this.status.loadingItem = '';\n          this.$httpMessageState(res, '加入購物車'); // toast\n          this.productQty = 1; // 資料送出，數量回預設\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n        });\n    },\n    refreshQty(number) { // 數量數字加減\n      this.productQty += (number);\n    },\n    goToCart(id, qty = 1) { // 立即購買\n      this.addToCart(id, qty);\n      this.$router.push('/cart');\n    },\n    toggleFavorite(item) { // 收藏切換\n      if (this.favoriteItems.includes(item.id)) { // 移除收藏\n        this.favoriteItems.splice(this.favoriteItems.indexOf(item.id), 1);\n        emitter.emit('push-message', { // toast\n          style: 'success',\n          title: '已從收藏清單中移除',\n        });\n      } else { // 新增收藏\n        this.favoriteItems.push(item.id);\n        emitter.emit('push-message', { // toast\n          style: 'success',\n          title: '已新增至收藏清單',\n        });\n      }\n      handleFavorites.saveLocal(this.favoriteItems);\n      emitter.emit('updateFavorite'); // 與 navFavorite 同步更新\n    },\n    updateFavorite() {\n      this.favoriteItems = handleFavorites.getLocal();\n      this.getProduct();\n    },\n    goToProduct(id) { // 進入商品單一頁面\n      this.$router.push(`/product/${id}`);\n      this.id = id; // 換新商品 id\n      this.getProduct(); // 渲染新商品畫面\n      this.otherProducts(); // others 重整\n    },\n  },\n  mounted() {\n    this.id = this.$route.params.productId;\n    this.getProduct();\n    emitter.on('updateFavorite', this.updateFavorite);\n    this.otherProducts();\n  },\n  unmounted() {\n    emitter.off('updateFavorite', this.updateFavorite);\n  },\n};\n</script>\n","import { render } from \"./UserProduct.vue?vue&type=template&id=dc8ede56\"\nimport script from \"./UserProduct.vue?vue&type=script&lang=js\"\nexport * from \"./UserProduct.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["saveLocal","itemId","favoriteId","JSON","stringify","localStorage","setItem","getLocal","parse","getItem","class","style","_createElementVNode","for","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","_hoisted_6","_toDisplayString","product","title","_hoisted_7","_hoisted_8","src","imageUrl","alt","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","content","_hoisted_14","_hoisted_15","price","origin_price","_createElementBlock","_hoisted_16","_ctx","$filters","currency","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","description","_hoisted_24","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","type","onClick","_cache","$event","$options","refreshQty","disabled","productQty","_hoisted_31","id","min","_hoisted_32","toggleFavorite","favoriteItems","includes","_hoisted_33","_hoisted_34","_hoisted_35","goToCart","status","loadingItem","addToCart","_hoisted_36","_hoisted_37","_hoisted_38","_Fragment","_renderList","others","item","key","_withModifiers","goToProduct","onKeydown","_hoisted_40","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","data","handleFavorites","methods","getProduct","this","api","$http","get","then","res","success","catch","err","$httpMessageState","otherProducts","products","filter","x","sort","Math","random","splice","qty","cart","product_id","post","emitter","emit","number","$router","push","indexOf","updateFavorite","mounted","$route","params","productId","on","unmounted","off","__exports__","render"],"sourceRoot":""}